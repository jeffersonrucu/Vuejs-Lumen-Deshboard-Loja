{"remainingRequest":"/var/www/html/0_Controle_de_Vendas/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/0_Controle_de_Vendas/frontend/src/App.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/var/www/html/0_Controle_de_Vendas/frontend/src/App.vue","mtime":1633539748228},{"path":"/var/www/html/0_Controle_de_Vendas/frontend/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/0_Controle_de_Vendas/frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/var/www/html/0_Controle_de_Vendas/frontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/var/www/html/0_Controle_de_Vendas/frontend/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/0_Controle_de_Vendas/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/0_Controle_de_Vendas/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpAaW1wb3J0ICIuL2Fzc2V0cy9zYXNzL21haW4uc2NzcyI7CgouZmFkZS1lbnRlciwKLmZhZGUtbGVhdmUtdG8gewogIG9wYWNpdHk6IDA7Cn0KLmZhZGUtZW50ZXItYWN0aXZlLAouZmFkZS1sZWF2ZS1hY3RpdmUgewogIHRyYW5zaXRpb246IGFsbCAuNXMgZWFzZQp9Cg=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmIA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <v-app>\n    <div id=\"login\" v-if=\"acess === false\">\n      <v-content class=\"height-100vh\">\n         <v-container fluid fill-height >\n            <v-layout align-center justify-center aligh-center>\n               <v-flex xs12 sm8 md4>\n                  <v-card class=\"elevation-12\">\n                     <v-toolbar dark color=\"primary\">\n                        <v-toolbar-title>Login</v-toolbar-title>\n                     </v-toolbar>\n                     <v-card-text>\n                        <v-form>\n                          <v-text-field\n                            label=\"E-mail\"\n                            type=\"text\"\n                            v-model=\"user.email\"\n                          ></v-text-field>\n                          <v-text-field\n                            label=\"Senha\"\n                            type=\"password\"\n                            v-model=\"user.password\"\n                          ></v-text-field>\n                          <v-alert\n                            dense\n                            outlined\n                            type=\"error\"\n                            v-if=\"error != null\"\n                          >\n                            {{error.error}}\n                          </v-alert>\n                        </v-form>\n                     </v-card-text>\n                     <v-card-actions>\n                        <v-spacer></v-spacer>\n                        <v-btn color=\"primary\" @click=\"login\">Entrar</v-btn>\n                     </v-card-actions>\n                  </v-card>\n               </v-flex>\n            </v-layout>\n         </v-container>\n      </v-content>\n    </div>\n\n    <div v-else-if=\"acess === true\">\n      <app-sidebar></app-sidebar>\n      <div class=\"margin-default\">\n        <app-namepage></app-namepage>\n        <transition name=\"fade\" mode=\"out-in\">\n          <router-view name=\"dashboard\"/>\n        </transition>\n      </div>\n    </div>\n  </v-app>\n</template>\n\n<script>\nimport Sidebar from './components/Sidebar'\nimport NamePage from './components/NamePage'\nimport axios from 'axios'\n\nexport default {\n  name: 'App',\n  components: {\n    'app-sidebar': Sidebar,\n    'app-namepage': NamePage\n  },\n  data () {\n    return {\n      acess: false,\n      user: {\n        email: '',\n        password: ''\n      },\n      status: null,\n      error: null\n    }\n  },\n  watch: {\n    error () {\n      if (this.error.error === 'SessÃ£o expirado') {\n        localStorage.token = null\n      }\n    }\n  },\n  created () {\n    if (localStorage.token === null) {\n      this.acess = false\n    } else {\n      axios\n        .get('http://localhost:8010/checktoken', {\n          headers: {\n            token: localStorage.token,\n            id: localStorage.id\n          }\n        })\n        .then((response) => {\n          this.acess = true\n        })\n        .catch(error => {\n          this.error = error.response.data\n        })\n    }\n  },\n  methods: {\n    login () {\n      const that = this\n\n      if (this.user.email === '' || this.user.password === '') {\n        this.error = { error: 'Digite seus dados nos campos acima' }\n      } else {\n        axios\n          .post('http://localhost:8010/user/authentication', {\n            email: this.user.email,\n            password: this.user.password\n          })\n          .then((response) => {\n            localStorage.id = response.data.id\n            localStorage.token = response.data.token\n            this.acess = true\n          })\n          .catch((error) => {\n            that.error = error.response.data\n          })\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" >\n  @import \"./assets/sass/main.scss\";\n\n  .fade-enter,\n  .fade-leave-to {\n    opacity: 0;\n  }\n  .fade-enter-active,\n  .fade-leave-active {\n    transition: all .5s ease\n  }\n</style>\n"]}]}