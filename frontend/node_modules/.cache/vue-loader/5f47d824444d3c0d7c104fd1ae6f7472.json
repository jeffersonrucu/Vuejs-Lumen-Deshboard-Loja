{"remainingRequest":"/var/www/html/0_Controle_de_Vendas/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/0_Controle_de_Vendas/frontend/src/view/Product.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/0_Controle_de_Vendas/frontend/src/view/Product.vue","mtime":1633637119063},{"path":"/var/www/html/0_Controle_de_Vendas/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/0_Controle_de_Vendas/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/var/www/html/0_Controle_de_Vendas/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/0_Controle_de_Vendas/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IFRoZU1hc2sgfSBmcm9tICd2dWUtdGhlLW1hc2snCmltcG9ydCB7IE1vbmV5IH0gZnJvbSAndi1tb25leScKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgICdtYXNrLWlucHV0JzogVGhlTWFzaywKICAgIE1vbmV5CiAgfSwKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIG15Q3JvcHBhOiB7fSwKICAgICAgaW1hZ2VQcm9kdWN0OiAnJywKICAgICAgaWRQcm9kdWN0OiAnJywKICAgICAgcHJvZHVjdDogewogICAgICAgIHByaWNlOiAnMDAuMDAnLAogICAgICAgIC8vIGNvbG9yczogWycjNzJBNEM5JywgJyNFODAwMDAnLCAnI0VDRDgyOScsICcjRkZGRkZGJywgJyMxQjFCMUInXSwKICAgICAgICBuYW1lOiAnJywKICAgICAgICBhbW91bnQ6ICcnCiAgICAgIH0sCiAgICAgIG1vbmV5OiB7CiAgICAgICAgZGVjaW1hbDogJywnLAogICAgICAgIHRob3VzYW5kczogJy4nLAogICAgICAgIHByZWZpeDogJ1IkICcsCiAgICAgICAgcHJlY2lzaW9uOiAyLAogICAgICAgIG1hc2tlZDogZmFsc2UKICAgICAgfSwKICAgICAgdXNlck1vbmV5OiBudWxsLAogICAgICB0cm9jbzogbnVsbCwKICAgICAgYnRuU2FsZTogZmFsc2UsCiAgICAgIHN0YXR1czogbnVsbCwKICAgICAgZXJyb3I6IG51bGwsCiAgICAgIGVzdG9xdWU6IHRydWUKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHVwbG9hZENyb3BwZWRJbWFnZSAoKSB7CiAgICAgIHRoaXMubXlDcm9wcGEuZ2VuZXJhdGVCbG9iKChibG9iKSA9PiB7CiAgICAgICAgLy8gd3JpdGUgY29kZSB0byB1cGxvYWQgdGhlIGNyb3BwZWQgaW1hZ2UgZmlsZSAoYSBmaWxlIGlzIGEgYmxvYikKICAgICAgfSwgJ2ltYWdlL2pwZWcnLCAwLjgpIC8vIDgwJSBjb21wcmVzc2VkIGpwZWcgZmlsZQogICAgfSwKICAgIGF0dFByb2R1Y3QgKGJhcmNvZGUpIHsKICAgICAgYXhpb3MKICAgICAgICAuZ2V0KGBodHRwOi8vbG9jYWxob3N0OjgwMTAvcHJvZHVjdC8ke2JhcmNvZGV9YCkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIHRoaXMucHJvZHVjdCA9IHsKICAgICAgICAgICAgcHJpY2U6IHJlc3BvbnNlLmRhdGEudmFsdWUsCiAgICAgICAgICAgIC8vIGNvbG9yczogWycjNzJBNEM5JywgJyNFODAwMDAnLCAnI0VDRDgyOScsICcjRkZGRkZGJywgJyMxQjFCMUInXSwKICAgICAgICAgICAgbmFtZTogcmVzcG9uc2UuZGF0YS5uYW1lLAogICAgICAgICAgICBhbW91bnQ6IHJlc3BvbnNlLmRhdGEuYW1vdW50LAogICAgICAgICAgICBpZDogcmVzcG9uc2UuZGF0YS5pZAogICAgICAgICAgfQogICAgICAgICAgdGhpcy5pbWFnZVByb2R1Y3QgPSByZXNwb25zZS5kYXRhLmltYWdlCiAgICAgICAgICB0aGlzLmJ0blNhbGUgPSB0cnVlCiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yLnJlc3BvbnNlLmRhdGEKICAgICAgICB9KQogICAgfSwKICAgIHNhbGUgKCkgewogICAgICAvLyBzb2xkCiAgICAgIHZhciBkYXRhID0gewogICAgICAgIGlkOiB0aGlzLnByb2R1Y3QuaWQKICAgICAgfQoKICAgICAgY29uc3QgY29uZmlnID0gewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UudG9rZW4sCiAgICAgICAgICBpZDogbG9jYWxTdG9yYWdlLmlkCiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAodGhpcy5wcm9kdWN0LmFtb3VudCA8PSAwKSB7CiAgICAgICAgdGhpcy5lc3RvcXVlID0gZmFsc2UKICAgICAgfSBlbHNlIHsKICAgICAgICBheGlvcwogICAgICAgICAgLnBvc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAxMC9zb2xkJywgZGF0YSwgY29uZmlnKQogICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgIHRoaXMuc3RhdHVzID0gcmVzcG9uc2UuZGF0YQogICAgICAgICAgICB0aGlzLmF0dFByb2R1Y3QodGhpcy5pZFByb2R1Y3QpCiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yLnJlc3BvbnNlLmRhdGEKICAgICAgICAgIH0pCiAgICAgIH0KICAgIH0sCiAgICB0cmF0YVVybCAodXJsKSB7CiAgICAgIHVybCA9ICInIiArIHVybCArICInIgogICAgICByZXR1cm4gdXJsCiAgICB9CiAgfSwKICB3YXRjaDogewogICAgaWRQcm9kdWN0ICgpIHsKICAgICAgaWYgKHRoaXMuaWRQcm9kdWN0Lmxlbmd0aCA9PT0gOSkgewogICAgICAgIGF4aW9zCiAgICAgICAgICAuZ2V0KGBodHRwOi8vbG9jYWxob3N0OjgwMTAvcHJvZHVjdC8ke3RoaXMuaWRQcm9kdWN0fWApCiAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgdGhpcy5wcm9kdWN0ID0gewogICAgICAgICAgICAgIHByaWNlOiByZXNwb25zZS5kYXRhLnZhbHVlLAogICAgICAgICAgICAgIC8vIGNvbG9yczogWycjNzJBNEM5JywgJyNFODAwMDAnLCAnI0VDRDgyOScsICcjRkZGRkZGJywgJyMxQjFCMUInXSwKICAgICAgICAgICAgICBuYW1lOiByZXNwb25zZS5kYXRhLm5hbWUsCiAgICAgICAgICAgICAgYW1vdW50OiByZXNwb25zZS5kYXRhLmFtb3VudCwKICAgICAgICAgICAgICBpZDogcmVzcG9uc2UuZGF0YS5pZAogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuaW1hZ2VQcm9kdWN0ID0gcmVzcG9uc2UuZGF0YS5pbWFnZQogICAgICAgICAgICB0aGlzLmJ0blNhbGUgPSB0cnVlCiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yLnJlc3BvbnNlLmRhdGEKICAgICAgICAgIH0pCiAgICAgIH0KICAgIH0sCiAgICB1c2VyTW9uZXkgKCkgewogICAgICB0aGlzLnRyb2NvID0gdGhpcy51c2VyTW9uZXkgLSB0aGlzLnByb2R1Y3QucHJpY2UKICAgIH0sCiAgICBwcm9kdWN0ICgpIHsKICAgICAgaWYgKHRoaXMucHJvZHVjdC5hbW91bnQgPD0gMCkgewogICAgICAgIHRoaXMuZXN0b3F1ZSA9IGZhbHNlCiAgICAgIH0KICAgIH0KICB9Cn0K"},{"version":3,"sources":["Product.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Product.vue","sourceRoot":"src/view","sourcesContent":["<template>\n  <div class=\"vendas\">\n    <mask-input type='text' mask=\"#########\" class=\"id-product\" placeholder=\"CÃ³digo do produto\" v-model=\"idProduct\"/>\n    <div class=\"box-product\">\n      <div class=\"img\" :style=\"{ 'background-image': 'url('  + trataUrl(imageProduct) + ')' }\"></div>\n\n      <div class=\"box-inf\">\n        <div>\n          <p> produto </p>\n          <input type='text' v-model=\"product.name\" disabled/>\n        </div>\n        <div>\n          <p> valor </p>\n          <money v-model=\"product.price\" v-bind=\"money\" disabled></money>\n        </div>\n        <div>\n          <p> dinheiro do cliente </p>\n          <money v-model=\"userMoney\" v-bind=\"money\"></money>\n        </div>\n        <div>\n          <p> troco </p>\n          <money v-model=\"troco\"  v-bind=\"money\" disabled/>\n        </div>\n        <div>\n          <p>quantidade no estoque</p>\n          <input type='text' v-model=\"product.amount\" disabled/>\n        </div>\n        <!-- <div>\n          <p>Cores</p>\n          <div class=\"colors\">\n            <div\n              class=\"color\"\n              v-for=\"color in product.colors\" :key=\"color\"\n              :style=\"'background-color:' + color\"\n            >\n            </div>\n          </div>\n        </div> -->\n        <v-btn\n          v-bind=\"attrs\"\n          v-on=\"on\"\n          color=\"#29CC97\"\n          class=\"btn-date\"\n          v-if=\"btnSale && estoque\"\n          @click=\"sale\"\n        >\n        Vender\n        </v-btn>\n        <v-btn\n          v-bind=\"attrs\"\n          v-on=\"on\"\n          color=\"#29CC97\"\n          class=\"btn-date\"\n          disabled\n          v-if=\"estoque === false\"\n        >\n        Sem Estoque\n        </v-btn>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { TheMask } from 'vue-the-mask'\nimport { Money } from 'v-money'\nimport axios from 'axios'\n\nexport default {\n  components: {\n    'mask-input': TheMask,\n    Money\n  },\n  data () {\n    return {\n      myCroppa: {},\n      imageProduct: '',\n      idProduct: '',\n      product: {\n        price: '00.00',\n        // colors: ['#72A4C9', '#E80000', '#ECD829', '#FFFFFF', '#1B1B1B'],\n        name: '',\n        amount: ''\n      },\n      money: {\n        decimal: ',',\n        thousands: '.',\n        prefix: 'R$ ',\n        precision: 2,\n        masked: false\n      },\n      userMoney: null,\n      troco: null,\n      btnSale: false,\n      status: null,\n      error: null,\n      estoque: true\n    }\n  },\n  methods: {\n    uploadCroppedImage () {\n      this.myCroppa.generateBlob((blob) => {\n        // write code to upload the cropped image file (a file is a blob)\n      }, 'image/jpeg', 0.8) // 80% compressed jpeg file\n    },\n    attProduct (barcode) {\n      axios\n        .get(`http://localhost:8010/product/${barcode}`)\n        .then((response) => {\n          this.product = {\n            price: response.data.value,\n            // colors: ['#72A4C9', '#E80000', '#ECD829', '#FFFFFF', '#1B1B1B'],\n            name: response.data.name,\n            amount: response.data.amount,\n            id: response.data.id\n          }\n          this.imageProduct = response.data.image\n          this.btnSale = true\n        })\n        .catch(error => {\n          this.error = error.response.data\n        })\n    },\n    sale () {\n      // sold\n      var data = {\n        id: this.product.id\n      }\n\n      const config = {\n        headers: {\n          token: localStorage.token,\n          id: localStorage.id\n        }\n      }\n\n      if (this.product.amount <= 0) {\n        this.estoque = false\n      } else {\n        axios\n          .post('http://localhost:8010/sold', data, config)\n          .then((response) => {\n            this.status = response.data\n            this.attProduct(this.idProduct)\n          })\n          .catch(error => {\n            this.error = error.response.data\n          })\n      }\n    },\n    trataUrl (url) {\n      url = \"'\" + url + \"'\"\n      return url\n    }\n  },\n  watch: {\n    idProduct () {\n      if (this.idProduct.length === 9) {\n        axios\n          .get(`http://localhost:8010/product/${this.idProduct}`)\n          .then((response) => {\n            this.product = {\n              price: response.data.value,\n              // colors: ['#72A4C9', '#E80000', '#ECD829', '#FFFFFF', '#1B1B1B'],\n              name: response.data.name,\n              amount: response.data.amount,\n              id: response.data.id\n            }\n            this.imageProduct = response.data.image\n            this.btnSale = true\n          })\n          .catch(error => {\n            this.error = error.response.data\n          })\n      }\n    },\n    userMoney () {\n      this.troco = this.userMoney - this.product.price\n    },\n    product () {\n      if (this.product.amount <= 0) {\n        this.estoque = false\n      }\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>\n"]}]}