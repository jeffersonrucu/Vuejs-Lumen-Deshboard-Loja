{"remainingRequest":"/var/www/html/0_Controle_de_Vendas/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/0_Controle_de_Vendas/frontend/src/view/ListClients.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/0_Controle_de_Vendas/frontend/src/view/ListClients.vue","mtime":1633630413667},{"path":"/var/www/html/0_Controle_de_Vendas/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/0_Controle_de_Vendas/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/var/www/html/0_Controle_de_Vendas/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/0_Controle_de_Vendas/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IFRoZU1hc2sgfSBmcm9tICd2dWUtdGhlLW1hc2snCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICAnbWFzay1pbnB1dCc6IFRoZU1hc2sKICB9LAoKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIGRlc3NlcnRzOiBbCiAgICAgICAgewogICAgICAgICAgbmFtZTogJ0Zyb3plbiBZb2d1cnQnLAogICAgICAgICAgY2Fsb3JpZXM6ICcrNTUgKDExKSA5ODY5OC0zMzQxJwogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbmFtZTogJ0ljZSBjcmVhbSBzYW5kd2ljaCcsCiAgICAgICAgICBjYWxvcmllczogJys1NSAoMTEpIDk4Njk4LTMzNDEnCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBuYW1lOiAnRWNsYWlyJywKICAgICAgICAgIGNhbG9yaWVzOiAnKzU1ICgxMSkgOTg2OTgtMzM0MScKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIG5hbWU6ICdDdXBjYWtlJywKICAgICAgICAgIGNhbG9yaWVzOiAnKzU1ICgxMSkgOTg2OTgtMzM0MScKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIG5hbWU6ICdHaW5nZXJicmVhZCcsCiAgICAgICAgICBjYWxvcmllczogJys1NSAoMTEpIDk4Njk4LTMzNDEnCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBuYW1lOiAnSmVsbHkgYmVhbicsCiAgICAgICAgICBjYWxvcmllczogJys1NSAoMTEpIDk4Njk4LTMzNDEnCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBuYW1lOiAnTG9sbGlwb3AnLAogICAgICAgICAgY2Fsb3JpZXM6ICcrNTUgKDExKSA5ODY5OC0zMzQxJwogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbmFtZTogJ0hvbmV5Y29tYicsCiAgICAgICAgICBjYWxvcmllczogJys1NSAoMTEpIDk4Njk4LTMzNDEnCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBuYW1lOiAnRG9udXQnLAogICAgICAgICAgY2Fsb3JpZXM6ICcrNTUgKDExKSA5ODY5OC0zMzQxJwogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbmFtZTogJ0tpdEthdCcsCiAgICAgICAgICBjYWxvcmllczogJys1NSAoMTEpIDk4Njk4LTMzNDEnCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBuYW1lOiAnRGFub25lJywKICAgICAgICAgIGNhbG9yaWVzOiAnKzU1ICgxMSkgOTg2OTgtMzM0MScKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIG5hbWU6ICdZYW1tdScsCiAgICAgICAgICBjYWxvcmllczogJys1NSAoMTEpIDk4Njk4LTMzNDEnCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBuYW1lOiAnbWFtYWknLAogICAgICAgICAgY2Fsb3JpZXM6ICcrNTUgKDExKSA5ODY5OC0zMzQxJwogICAgICAgIH0KICAgICAgXSwKICAgICAgZGlhbG9nOiBmYWxzZSwKICAgICAgY2xpZW50U2VsZWN0OiB7fQogICAgfQogIH0sCiAgY3JlYXRlZCAoKSB7CiAgICBheGlvcwogICAgICAuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjgwMTAvY2xpZW50cycsIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLnRva2VuLAogICAgICAgICAgaWQ6IGxvY2FsU3RvcmFnZS5pZAogICAgICAgIH0KICAgICAgfSkKICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgdGhpcy5hY2VzcyA9IHRydWUKICAgICAgICB0aGlzLmRlc3NlcnRzID0gcmVzcG9uc2UuZGF0YQogICAgICB9KQogICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIHRoaXMuZXJyb3IgPSBlcnJvci5yZXNwb25zZS5kYXRhCiAgICAgIH0pCgogICAgaWYgKGxvY2FsU3RvcmFnZS50b2tlbiA9PT0gbnVsbCkgewogICAgICB0aGlzLmFjZXNzID0gZmFsc2UKICAgIH0gZWxzZSB7CiAgICAgIGF4aW9zCiAgICAgICAgLmdldCgnaHR0cDovL2xvY2FsaG9zdDo4MDEwL2NoZWNrdG9rZW4nLCB7CiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UudG9rZW4sCiAgICAgICAgICAgIGlkOiBsb2NhbFN0b3JhZ2UuaWQKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgdGhpcy5hY2VzcyA9IHRydWUKICAgICAgICB9KQogICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICB0aGlzLmFjZXNzID0gZmFsc2UKICAgICAgICAgIHRoaXMuZXJyb3IgPSBlcnJvci5yZXNwb25zZS5kYXRhCiAgICAgICAgfSkKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBlcnJvciAoKSB7CiAgICAgIGlmICh0aGlzLmVycm9yLmVycm9yID09PSAnU2Vzc8OjbyBleHBpcmFkbycpIHsKICAgICAgICBsb2NhbFN0b3JhZ2UudG9rZW4gPSBudWxsCiAgICAgICAgdGhpcy4kcm91dGVyLmdvKDApCiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGluZkNsaWVudCAoaW5kZXgpIHsKICAgICAgdGhpcy5kaWFsb2cgPSAhdGhpcy5kaWFsb2cKICAgICAgdGhpcy5jbGllbnRTZWxlY3QgPSB0aGlzLmRlc3NlcnRzW2luZGV4XQogICAgfSwKICAgIHNhdmUgKCkgewogICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlCgogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICBpZDogdGhpcy5jbGllbnRTZWxlY3QuaWQsCiAgICAgICAgZW1haWw6IHRoaXMuY2xpZW50U2VsZWN0LmVtYWlsLAogICAgICAgIGNlbGxfcGhvbmU6IHRoaXMuY2xpZW50U2VsZWN0LmNlbGxfcGhvbmUKICAgICAgfQoKICAgICAgY29uc3QgY29uZmlnID0gewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UudG9rZW4sCiAgICAgICAgICBpZDogbG9jYWxTdG9yYWdlLmlkCiAgICAgICAgfQogICAgICB9CgogICAgICBheGlvcwogICAgICAgIC5wb3N0KCdodHRwOi8vbG9jYWxob3N0OjgwMTAvY2xpZW50L21vZGlmJywgZGF0YSwgY29uZmlnKQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgdGhpcy5zdGF0dXMgPSByZXNwb25zZS5kYXRhCiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yLnJlc3BvbnNlLmRhdGEKICAgICAgICB9KQogICAgfSwKICAgIGF0dENsaWVudCAoKSB7CiAgICAgIGF4aW9zCiAgICAgICAgLmdldCgnaHR0cDovL2xvY2FsaG9zdDo4MDEwL2NsaWVudHMnLCB7CiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UudG9rZW4sCiAgICAgICAgICAgIGlkOiBsb2NhbFN0b3JhZ2UuaWQKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgdGhpcy5hY2VzcyA9IHRydWUKICAgICAgICAgIHRoaXMuZGVzc2VydHMgPSByZXNwb25zZS5kYXRhCiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yLnJlc3BvbnNlLmRhdGEKICAgICAgICB9KQogICAgfSwKICAgIGRlbGV0ZUNsaWVudCAoKSB7CiAgICAgIHRoaXMuZGlhbG9nID0gZmFsc2UKCiAgICAgIHZhciBkYXRhID0gewogICAgICAgIGlkOiB0aGlzLmNsaWVudFNlbGVjdC5pZAogICAgICB9CgogICAgICBjb25zdCBjb25maWcgPSB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS50b2tlbiwKICAgICAgICAgIGlkOiBsb2NhbFN0b3JhZ2UuaWQKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGF4aW9zCiAgICAgICAgLnBvc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAxMC9jbGllbnQvZGVsZXRlJywgZGF0YSwgY29uZmlnKQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgdGhpcy5zdGF0dXMgPSByZXNwb25zZS5kYXRhCiAgICAgICAgICB0aGlzLmF0dENsaWVudCgpCiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yLnJlc3BvbnNlLmRhdGEKICAgICAgICB9KQogICAgfQogIH0KfQo="},{"version":3,"sources":["ListClients.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ListClients.vue","sourceRoot":"src/view","sourcesContent":["<template>\n  <div class=\"clients\">\n    <v-text-field\n      label=\"Pesquisar pelo código\"\n    ></v-text-field>\n\n    <v-simple-table\n      fixed-header\n      height=\"75vh\"\n    >\n      <template v-slot:default>\n        <thead>\n          <tr>\n            <th class=\"text-left\">\n              Nome\n            </th>\n            <th class=\"text-left\">\n              E-mail\n            </th>\n            <th class=\"text-left\">\n              Telefone\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr\n            v-for=\"item, index in desserts\"\n            :key=\"item.name\"\n            @click=\"infClient(index)\"\n          >\n            <td>{{ item.name }}</td>\n            <td>{{ item.email }}</td>\n            <td><mask-input class=\"mask-style\" type='text' mask=\"+## (##) #####-####\" v-model=\"item.cell_phone\" /></td>\n          </tr>\n        </tbody>\n      </template>\n    </v-simple-table>\n\n    <v-row justify=\"center\" v-if=\"dialog\">\n      <v-dialog\n        v-model=\"dialog\"\n        persistent\n        max-width=\"600px\"\n        class=\"z-999\"\n      >\n        <v-card>\n          <v-card-title>\n            <span class=\"text-h5\">Dados do Cliente</span>\n          </v-card-title>\n          <v-card-text>\n            <v-container>\n              <v-row>\n                <v-col cols=\"12\">\n                  <p> nome do cliente </p>\n                  <input type=\"text\" :value=\"clientSelect.name\" disabled>\n                </v-col>\n                <v-col cols=\"12\">\n                  <p> email do cliente </p>\n                  <input type=\"text\" v-model=\"clientSelect.email\">\n                </v-col>\n                <v-col cols=\"12\">\n                  <p>celular do cliente</p>\n                  <mask-input type='text' v-model=\"clientSelect.cell_phone\" mask=\"+## (##) #####-####\" />\n                </v-col>\n              </v-row>\n            </v-container>\n            <small>Cuidado ao fazer as alterações das informações do usúario</small>\n          </v-card-text>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn\n              color=\"blue darken-1\"\n              text\n              @click=\"dialog = false\"\n            >\n              Fechar\n            </v-btn>\n            <v-btn\n              color=\"blue darken-1\"\n              text\n              @click=\"save\"\n            >\n              Salvar\n            </v-btn>\n            <v-btn\n              color=\"blue darken-1\"\n              text\n              @click=\"deleteClient\"\n            >\n              Excluir\n            </v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n    </v-row>\n  </div>\n</template>\n\n<script>\nimport { TheMask } from 'vue-the-mask'\nimport axios from 'axios'\n\nexport default {\n  components: {\n    'mask-input': TheMask\n  },\n\n  data () {\n    return {\n      desserts: [\n        {\n          name: 'Frozen Yogurt',\n          calories: '+55 (11) 98698-3341'\n        },\n        {\n          name: 'Ice cream sandwich',\n          calories: '+55 (11) 98698-3341'\n        },\n        {\n          name: 'Eclair',\n          calories: '+55 (11) 98698-3341'\n        },\n        {\n          name: 'Cupcake',\n          calories: '+55 (11) 98698-3341'\n        },\n        {\n          name: 'Gingerbread',\n          calories: '+55 (11) 98698-3341'\n        },\n        {\n          name: 'Jelly bean',\n          calories: '+55 (11) 98698-3341'\n        },\n        {\n          name: 'Lollipop',\n          calories: '+55 (11) 98698-3341'\n        },\n        {\n          name: 'Honeycomb',\n          calories: '+55 (11) 98698-3341'\n        },\n        {\n          name: 'Donut',\n          calories: '+55 (11) 98698-3341'\n        },\n        {\n          name: 'KitKat',\n          calories: '+55 (11) 98698-3341'\n        },\n        {\n          name: 'Danone',\n          calories: '+55 (11) 98698-3341'\n        },\n        {\n          name: 'Yammu',\n          calories: '+55 (11) 98698-3341'\n        },\n        {\n          name: 'mamai',\n          calories: '+55 (11) 98698-3341'\n        }\n      ],\n      dialog: false,\n      clientSelect: {}\n    }\n  },\n  created () {\n    axios\n      .get('http://localhost:8010/clients', {\n        headers: {\n          token: localStorage.token,\n          id: localStorage.id\n        }\n      })\n      .then((response) => {\n        this.acess = true\n        this.desserts = response.data\n      })\n      .catch(error => {\n        this.error = error.response.data\n      })\n\n    if (localStorage.token === null) {\n      this.acess = false\n    } else {\n      axios\n        .get('http://localhost:8010/checktoken', {\n          headers: {\n            token: localStorage.token,\n            id: localStorage.id\n          }\n        })\n        .then((response) => {\n          this.acess = true\n        })\n        .catch(error => {\n          this.acess = false\n          this.error = error.response.data\n        })\n    }\n  },\n  watch: {\n    error () {\n      if (this.error.error === 'Sessão expirado') {\n        localStorage.token = null\n        this.$router.go(0)\n      }\n    }\n  },\n  methods: {\n    infClient (index) {\n      this.dialog = !this.dialog\n      this.clientSelect = this.desserts[index]\n    },\n    save () {\n      this.dialog = false\n\n      var data = {\n        id: this.clientSelect.id,\n        email: this.clientSelect.email,\n        cell_phone: this.clientSelect.cell_phone\n      }\n\n      const config = {\n        headers: {\n          token: localStorage.token,\n          id: localStorage.id\n        }\n      }\n\n      axios\n        .post('http://localhost:8010/client/modif', data, config)\n        .then((response) => {\n          this.status = response.data\n        })\n        .catch(error => {\n          this.error = error.response.data\n        })\n    },\n    attClient () {\n      axios\n        .get('http://localhost:8010/clients', {\n          headers: {\n            token: localStorage.token,\n            id: localStorage.id\n          }\n        })\n        .then((response) => {\n          this.acess = true\n          this.desserts = response.data\n        })\n        .catch(error => {\n          this.error = error.response.data\n        })\n    },\n    deleteClient () {\n      this.dialog = false\n\n      var data = {\n        id: this.clientSelect.id\n      }\n\n      const config = {\n        headers: {\n          token: localStorage.token,\n          id: localStorage.id\n        }\n      }\n\n      axios\n        .post('http://localhost:8010/client/delete', data, config)\n        .then((response) => {\n          this.status = response.data\n          this.attClient()\n        })\n        .catch(error => {\n          this.error = error.response.data\n        })\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>\n"]}]}