{"remainingRequest":"/var/www/html/0_Controle_de_Vendas/frontend/node_modules/babel-loader/lib/index.js!/var/www/html/0_Controle_de_Vendas/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/var/www/html/0_Controle_de_Vendas/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/0_Controle_de_Vendas/frontend/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/0_Controle_de_Vendas/frontend/src/App.vue","mtime":1633539748228},{"path":"/var/www/html/0_Controle_de_Vendas/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/0_Controle_de_Vendas/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/var/www/html/0_Controle_de_Vendas/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/0_Controle_de_Vendas/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFNpZGViYXIgZnJvbSAnLi9jb21wb25lbnRzL1NpZGViYXInOwppbXBvcnQgTmFtZVBhZ2UgZnJvbSAnLi9jb21wb25lbnRzL05hbWVQYWdlJzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdBcHAnLAogIGNvbXBvbmVudHM6IHsKICAgICdhcHAtc2lkZWJhcic6IFNpZGViYXIsCiAgICAnYXBwLW5hbWVwYWdlJzogTmFtZVBhZ2UKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhY2VzczogZmFsc2UsCiAgICAgIHVzZXI6IHsKICAgICAgICBlbWFpbDogJycsCiAgICAgICAgcGFzc3dvcmQ6ICcnCiAgICAgIH0sCiAgICAgIHN0YXR1czogbnVsbCwKICAgICAgZXJyb3I6IG51bGwKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKCkgewogICAgICBpZiAodGhpcy5lcnJvci5lcnJvciA9PT0gJ1Nlc3PDo28gZXhwaXJhZG8nKSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnRva2VuID0gbnVsbDsKICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgaWYgKGxvY2FsU3RvcmFnZS50b2tlbiA9PT0gbnVsbCkgewogICAgICB0aGlzLmFjZXNzID0gZmFsc2U7CiAgICB9IGVsc2UgewogICAgICBheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAxMC9jaGVja3Rva2VuJywgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UudG9rZW4sCiAgICAgICAgICBpZDogbG9jYWxTdG9yYWdlLmlkCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzLmFjZXNzID0gdHJ1ZTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgX3RoaXMuZXJyb3IgPSBlcnJvci5yZXNwb25zZS5kYXRhOwogICAgICB9KTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgdGhhdCA9IHRoaXM7CgogICAgICBpZiAodGhpcy51c2VyLmVtYWlsID09PSAnJyB8fCB0aGlzLnVzZXIucGFzc3dvcmQgPT09ICcnKSB7CiAgICAgICAgdGhpcy5lcnJvciA9IHsKICAgICAgICAgIGVycm9yOiAnRGlnaXRlIHNldXMgZGFkb3Mgbm9zIGNhbXBvcyBhY2ltYScKICAgICAgICB9OwogICAgICB9IGVsc2UgewogICAgICAgIGF4aW9zLnBvc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAxMC91c2VyL2F1dGhlbnRpY2F0aW9uJywgewogICAgICAgICAgZW1haWw6IHRoaXMudXNlci5lbWFpbCwKICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLnVzZXIucGFzc3dvcmQKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgbG9jYWxTdG9yYWdlLmlkID0gcmVzcG9uc2UuZGF0YS5pZDsKICAgICAgICAgIGxvY2FsU3RvcmFnZS50b2tlbiA9IHJlc3BvbnNlLmRhdGEudG9rZW47CiAgICAgICAgICBfdGhpczIuYWNlc3MgPSB0cnVlOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgdGhhdC5lcnJvciA9IGVycm9yLnJlc3BvbnNlLmRhdGE7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA,OAAA,OAAA,MAAA,sBAAA;AACA,OAAA,QAAA,MAAA,uBAAA;AACA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,KADA;AAEA,EAAA,UAAA,EAAA;AACA,mBAAA,OADA;AAEA,oBAAA;AAFA,GAFA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,KADA;AAEA,MAAA,IAAA,EAAA;AACA,QAAA,KAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA;AAFA,OAFA;AAMA,MAAA,MAAA,EAAA,IANA;AAOA,MAAA,KAAA,EAAA;AAPA,KAAA;AASA,GAhBA;AAiBA,EAAA,KAAA,EAAA;AACA,IAAA,KADA,mBACA;AACA,UAAA,KAAA,KAAA,CAAA,KAAA,KAAA,iBAAA,EAAA;AACA,QAAA,YAAA,CAAA,KAAA,GAAA,IAAA;AACA;AACA;AALA,GAjBA;AAwBA,EAAA,OAxBA,qBAwBA;AAAA;;AACA,QAAA,YAAA,CAAA,KAAA,KAAA,IAAA,EAAA;AACA,WAAA,KAAA,GAAA,KAAA;AACA,KAFA,MAEA;AACA,MAAA,KAAA,CACA,GADA,CACA,kCADA,EACA;AACA,QAAA,OAAA,EAAA;AACA,UAAA,KAAA,EAAA,YAAA,CAAA,KADA;AAEA,UAAA,EAAA,EAAA,YAAA,CAAA;AAFA;AADA,OADA,EAOA,IAPA,CAOA,UAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,IAAA;AACA,OATA,EAUA,KAVA,CAUA,UAAA,KAAA,EAAA;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,KAAA,CAAA,QAAA,CAAA,IAAA;AACA,OAZA;AAaA;AACA,GA1CA;AA2CA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AAAA;;AACA,UAAA,IAAA,GAAA,IAAA;;AAEA,UAAA,KAAA,IAAA,CAAA,KAAA,KAAA,EAAA,IAAA,KAAA,IAAA,CAAA,QAAA,KAAA,EAAA,EAAA;AACA,aAAA,KAAA,GAAA;AAAA,UAAA,KAAA,EAAA;AAAA,SAAA;AACA,OAFA,MAEA;AACA,QAAA,KAAA,CACA,IADA,CACA,2CADA,EACA;AACA,UAAA,KAAA,EAAA,KAAA,IAAA,CAAA,KADA;AAEA,UAAA,QAAA,EAAA,KAAA,IAAA,CAAA;AAFA,SADA,EAKA,IALA,CAKA,UAAA,QAAA,EAAA;AACA,UAAA,YAAA,CAAA,EAAA,GAAA,QAAA,CAAA,IAAA,CAAA,EAAA;AACA,UAAA,YAAA,CAAA,KAAA,GAAA,QAAA,CAAA,IAAA,CAAA,KAAA;AACA,UAAA,MAAA,CAAA,KAAA,GAAA,IAAA;AACA,SATA,EAUA,KAVA,CAUA,UAAA,KAAA,EAAA;AACA,UAAA,IAAA,CAAA,KAAA,GAAA,KAAA,CAAA,QAAA,CAAA,IAAA;AACA,SAZA;AAaA;AACA;AArBA;AA3CA,CAAA","sourcesContent":["<template>\n  <v-app>\n    <div id=\"login\" v-if=\"acess === false\">\n      <v-content class=\"height-100vh\">\n         <v-container fluid fill-height >\n            <v-layout align-center justify-center aligh-center>\n               <v-flex xs12 sm8 md4>\n                  <v-card class=\"elevation-12\">\n                     <v-toolbar dark color=\"primary\">\n                        <v-toolbar-title>Login</v-toolbar-title>\n                     </v-toolbar>\n                     <v-card-text>\n                        <v-form>\n                          <v-text-field\n                            label=\"E-mail\"\n                            type=\"text\"\n                            v-model=\"user.email\"\n                          ></v-text-field>\n                          <v-text-field\n                            label=\"Senha\"\n                            type=\"password\"\n                            v-model=\"user.password\"\n                          ></v-text-field>\n                          <v-alert\n                            dense\n                            outlined\n                            type=\"error\"\n                            v-if=\"error != null\"\n                          >\n                            {{error.error}}\n                          </v-alert>\n                        </v-form>\n                     </v-card-text>\n                     <v-card-actions>\n                        <v-spacer></v-spacer>\n                        <v-btn color=\"primary\" @click=\"login\">Entrar</v-btn>\n                     </v-card-actions>\n                  </v-card>\n               </v-flex>\n            </v-layout>\n         </v-container>\n      </v-content>\n    </div>\n\n    <div v-else-if=\"acess === true\">\n      <app-sidebar></app-sidebar>\n      <div class=\"margin-default\">\n        <app-namepage></app-namepage>\n        <transition name=\"fade\" mode=\"out-in\">\n          <router-view name=\"dashboard\"/>\n        </transition>\n      </div>\n    </div>\n  </v-app>\n</template>\n\n<script>\nimport Sidebar from './components/Sidebar'\nimport NamePage from './components/NamePage'\nimport axios from 'axios'\n\nexport default {\n  name: 'App',\n  components: {\n    'app-sidebar': Sidebar,\n    'app-namepage': NamePage\n  },\n  data () {\n    return {\n      acess: false,\n      user: {\n        email: '',\n        password: ''\n      },\n      status: null,\n      error: null\n    }\n  },\n  watch: {\n    error () {\n      if (this.error.error === 'SessÃ£o expirado') {\n        localStorage.token = null\n      }\n    }\n  },\n  created () {\n    if (localStorage.token === null) {\n      this.acess = false\n    } else {\n      axios\n        .get('http://localhost:8010/checktoken', {\n          headers: {\n            token: localStorage.token,\n            id: localStorage.id\n          }\n        })\n        .then((response) => {\n          this.acess = true\n        })\n        .catch(error => {\n          this.error = error.response.data\n        })\n    }\n  },\n  methods: {\n    login () {\n      const that = this\n\n      if (this.user.email === '' || this.user.password === '') {\n        this.error = { error: 'Digite seus dados nos campos acima' }\n      } else {\n        axios\n          .post('http://localhost:8010/user/authentication', {\n            email: this.user.email,\n            password: this.user.password\n          })\n          .then((response) => {\n            localStorage.id = response.data.id\n            localStorage.token = response.data.token\n            this.acess = true\n          })\n          .catch((error) => {\n            that.error = error.response.data\n          })\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" >\n  @import \"./assets/sass/main.scss\";\n\n  .fade-enter,\n  .fade-leave-to {\n    opacity: 0;\n  }\n  .fade-enter-active,\n  .fade-leave-active {\n    transition: all .5s ease\n  }\n</style>\n"],"sourceRoot":"src"}]}