{"remainingRequest":"/var/www/html/0_Controle_de_Vendas/frontend/node_modules/babel-loader/lib/index.js!/var/www/html/0_Controle_de_Vendas/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/var/www/html/0_Controle_de_Vendas/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/0_Controle_de_Vendas/frontend/src/view/Product.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/0_Controle_de_Vendas/frontend/src/view/Product.vue","mtime":1633637119063},{"path":"/var/www/html/0_Controle_de_Vendas/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/0_Controle_de_Vendas/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/var/www/html/0_Controle_de_Vendas/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/0_Controle_de_Vendas/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IFRoZU1hc2sgfSBmcm9tICd2dWUtdGhlLW1hc2snOwppbXBvcnQgeyBNb25leSB9IGZyb20gJ3YtbW9uZXknOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgJ21hc2staW5wdXQnOiBUaGVNYXNrLAogICAgTW9uZXk6IE1vbmV5CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbXlDcm9wcGE6IHt9LAogICAgICBpbWFnZVByb2R1Y3Q6ICcnLAogICAgICBpZFByb2R1Y3Q6ICcnLAogICAgICBwcm9kdWN0OiB7CiAgICAgICAgcHJpY2U6ICcwMC4wMCcsCiAgICAgICAgLy8gY29sb3JzOiBbJyM3MkE0QzknLCAnI0U4MDAwMCcsICcjRUNEODI5JywgJyNGRkZGRkYnLCAnIzFCMUIxQiddLAogICAgICAgIG5hbWU6ICcnLAogICAgICAgIGFtb3VudDogJycKICAgICAgfSwKICAgICAgbW9uZXk6IHsKICAgICAgICBkZWNpbWFsOiAnLCcsCiAgICAgICAgdGhvdXNhbmRzOiAnLicsCiAgICAgICAgcHJlZml4OiAnUiQgJywKICAgICAgICBwcmVjaXNpb246IDIsCiAgICAgICAgbWFza2VkOiBmYWxzZQogICAgICB9LAogICAgICB1c2VyTW9uZXk6IG51bGwsCiAgICAgIHRyb2NvOiBudWxsLAogICAgICBidG5TYWxlOiBmYWxzZSwKICAgICAgc3RhdHVzOiBudWxsLAogICAgICBlcnJvcjogbnVsbCwKICAgICAgZXN0b3F1ZTogdHJ1ZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHVwbG9hZENyb3BwZWRJbWFnZTogZnVuY3Rpb24gdXBsb2FkQ3JvcHBlZEltYWdlKCkgewogICAgICB0aGlzLm15Q3JvcHBhLmdlbmVyYXRlQmxvYihmdW5jdGlvbiAoYmxvYikgey8vIHdyaXRlIGNvZGUgdG8gdXBsb2FkIHRoZSBjcm9wcGVkIGltYWdlIGZpbGUgKGEgZmlsZSBpcyBhIGJsb2IpCiAgICAgIH0sICdpbWFnZS9qcGVnJywgMC44KTsgLy8gODAlIGNvbXByZXNzZWQganBlZyBmaWxlCiAgICB9LAogICAgYXR0UHJvZHVjdDogZnVuY3Rpb24gYXR0UHJvZHVjdChiYXJjb2RlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODAxMC9wcm9kdWN0LyIuY29uY2F0KGJhcmNvZGUpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzLnByb2R1Y3QgPSB7CiAgICAgICAgICBwcmljZTogcmVzcG9uc2UuZGF0YS52YWx1ZSwKICAgICAgICAgIC8vIGNvbG9yczogWycjNzJBNEM5JywgJyNFODAwMDAnLCAnI0VDRDgyOScsICcjRkZGRkZGJywgJyMxQjFCMUInXSwKICAgICAgICAgIG5hbWU6IHJlc3BvbnNlLmRhdGEubmFtZSwKICAgICAgICAgIGFtb3VudDogcmVzcG9uc2UuZGF0YS5hbW91bnQsCiAgICAgICAgICBpZDogcmVzcG9uc2UuZGF0YS5pZAogICAgICAgIH07CiAgICAgICAgX3RoaXMuaW1hZ2VQcm9kdWN0ID0gcmVzcG9uc2UuZGF0YS5pbWFnZTsKICAgICAgICBfdGhpcy5idG5TYWxlID0gdHJ1ZTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgX3RoaXMuZXJyb3IgPSBlcnJvci5yZXNwb25zZS5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICBzYWxlOiBmdW5jdGlvbiBzYWxlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIC8vIHNvbGQKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgaWQ6IHRoaXMucHJvZHVjdC5pZAogICAgICB9OwogICAgICB2YXIgY29uZmlnID0gewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UudG9rZW4sCiAgICAgICAgICBpZDogbG9jYWxTdG9yYWdlLmlkCiAgICAgICAgfQogICAgICB9OwoKICAgICAgaWYgKHRoaXMucHJvZHVjdC5hbW91bnQgPD0gMCkgewogICAgICAgIHRoaXMuZXN0b3F1ZSA9IGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIGF4aW9zLnBvc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAxMC9zb2xkJywgZGF0YSwgY29uZmlnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgX3RoaXMyLnN0YXR1cyA9IHJlc3BvbnNlLmRhdGE7CgogICAgICAgICAgX3RoaXMyLmF0dFByb2R1Y3QoX3RoaXMyLmlkUHJvZHVjdCk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBfdGhpczIuZXJyb3IgPSBlcnJvci5yZXNwb25zZS5kYXRhOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgdHJhdGFVcmw6IGZ1bmN0aW9uIHRyYXRhVXJsKHVybCkgewogICAgICB1cmwgPSAiJyIgKyB1cmwgKyAiJyI7CiAgICAgIHJldHVybiB1cmw7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgaWRQcm9kdWN0OiBmdW5jdGlvbiBpZFByb2R1Y3QoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuaWRQcm9kdWN0Lmxlbmd0aCA9PT0gOSkgewogICAgICAgIGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDo4MDEwL3Byb2R1Y3QvIi5jb25jYXQodGhpcy5pZFByb2R1Y3QpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgX3RoaXMzLnByb2R1Y3QgPSB7CiAgICAgICAgICAgIHByaWNlOiByZXNwb25zZS5kYXRhLnZhbHVlLAogICAgICAgICAgICAvLyBjb2xvcnM6IFsnIzcyQTRDOScsICcjRTgwMDAwJywgJyNFQ0Q4MjknLCAnI0ZGRkZGRicsICcjMUIxQjFCJ10sCiAgICAgICAgICAgIG5hbWU6IHJlc3BvbnNlLmRhdGEubmFtZSwKICAgICAgICAgICAgYW1vdW50OiByZXNwb25zZS5kYXRhLmFtb3VudCwKICAgICAgICAgICAgaWQ6IHJlc3BvbnNlLmRhdGEuaWQKICAgICAgICAgIH07CiAgICAgICAgICBfdGhpczMuaW1hZ2VQcm9kdWN0ID0gcmVzcG9uc2UuZGF0YS5pbWFnZTsKICAgICAgICAgIF90aGlzMy5idG5TYWxlID0gdHJ1ZTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIF90aGlzMy5lcnJvciA9IGVycm9yLnJlc3BvbnNlLmRhdGE7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICB1c2VyTW9uZXk6IGZ1bmN0aW9uIHVzZXJNb25leSgpIHsKICAgICAgdGhpcy50cm9jbyA9IHRoaXMudXNlck1vbmV5IC0gdGhpcy5wcm9kdWN0LnByaWNlOwogICAgfSwKICAgIHByb2R1Y3Q6IGZ1bmN0aW9uIHByb2R1Y3QoKSB7CiAgICAgIGlmICh0aGlzLnByb2R1Y3QuYW1vdW50IDw9IDApIHsKICAgICAgICB0aGlzLmVzdG9xdWUgPSBmYWxzZTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["Product.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"vendas\">\n    <mask-input type='text' mask=\"#########\" class=\"id-product\" placeholder=\"CÃ³digo do produto\" v-model=\"idProduct\"/>\n    <div class=\"box-product\">\n      <div class=\"img\" :style=\"{ 'background-image': 'url('  + trataUrl(imageProduct) + ')' }\"></div>\n\n      <div class=\"box-inf\">\n        <div>\n          <p> produto </p>\n          <input type='text' v-model=\"product.name\" disabled/>\n        </div>\n        <div>\n          <p> valor </p>\n          <money v-model=\"product.price\" v-bind=\"money\" disabled></money>\n        </div>\n        <div>\n          <p> dinheiro do cliente </p>\n          <money v-model=\"userMoney\" v-bind=\"money\"></money>\n        </div>\n        <div>\n          <p> troco </p>\n          <money v-model=\"troco\"  v-bind=\"money\" disabled/>\n        </div>\n        <div>\n          <p>quantidade no estoque</p>\n          <input type='text' v-model=\"product.amount\" disabled/>\n        </div>\n        <!-- <div>\n          <p>Cores</p>\n          <div class=\"colors\">\n            <div\n              class=\"color\"\n              v-for=\"color in product.colors\" :key=\"color\"\n              :style=\"'background-color:' + color\"\n            >\n            </div>\n          </div>\n        </div> -->\n        <v-btn\n          v-bind=\"attrs\"\n          v-on=\"on\"\n          color=\"#29CC97\"\n          class=\"btn-date\"\n          v-if=\"btnSale && estoque\"\n          @click=\"sale\"\n        >\n        Vender\n        </v-btn>\n        <v-btn\n          v-bind=\"attrs\"\n          v-on=\"on\"\n          color=\"#29CC97\"\n          class=\"btn-date\"\n          disabled\n          v-if=\"estoque === false\"\n        >\n        Sem Estoque\n        </v-btn>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { TheMask } from 'vue-the-mask'\nimport { Money } from 'v-money'\nimport axios from 'axios'\n\nexport default {\n  components: {\n    'mask-input': TheMask,\n    Money\n  },\n  data () {\n    return {\n      myCroppa: {},\n      imageProduct: '',\n      idProduct: '',\n      product: {\n        price: '00.00',\n        // colors: ['#72A4C9', '#E80000', '#ECD829', '#FFFFFF', '#1B1B1B'],\n        name: '',\n        amount: ''\n      },\n      money: {\n        decimal: ',',\n        thousands: '.',\n        prefix: 'R$ ',\n        precision: 2,\n        masked: false\n      },\n      userMoney: null,\n      troco: null,\n      btnSale: false,\n      status: null,\n      error: null,\n      estoque: true\n    }\n  },\n  methods: {\n    uploadCroppedImage () {\n      this.myCroppa.generateBlob((blob) => {\n        // write code to upload the cropped image file (a file is a blob)\n      }, 'image/jpeg', 0.8) // 80% compressed jpeg file\n    },\n    attProduct (barcode) {\n      axios\n        .get(`http://localhost:8010/product/${barcode}`)\n        .then((response) => {\n          this.product = {\n            price: response.data.value,\n            // colors: ['#72A4C9', '#E80000', '#ECD829', '#FFFFFF', '#1B1B1B'],\n            name: response.data.name,\n            amount: response.data.amount,\n            id: response.data.id\n          }\n          this.imageProduct = response.data.image\n          this.btnSale = true\n        })\n        .catch(error => {\n          this.error = error.response.data\n        })\n    },\n    sale () {\n      // sold\n      var data = {\n        id: this.product.id\n      }\n\n      const config = {\n        headers: {\n          token: localStorage.token,\n          id: localStorage.id\n        }\n      }\n\n      if (this.product.amount <= 0) {\n        this.estoque = false\n      } else {\n        axios\n          .post('http://localhost:8010/sold', data, config)\n          .then((response) => {\n            this.status = response.data\n            this.attProduct(this.idProduct)\n          })\n          .catch(error => {\n            this.error = error.response.data\n          })\n      }\n    },\n    trataUrl (url) {\n      url = \"'\" + url + \"'\"\n      return url\n    }\n  },\n  watch: {\n    idProduct () {\n      if (this.idProduct.length === 9) {\n        axios\n          .get(`http://localhost:8010/product/${this.idProduct}`)\n          .then((response) => {\n            this.product = {\n              price: response.data.value,\n              // colors: ['#72A4C9', '#E80000', '#ECD829', '#FFFFFF', '#1B1B1B'],\n              name: response.data.name,\n              amount: response.data.amount,\n              id: response.data.id\n            }\n            this.imageProduct = response.data.image\n            this.btnSale = true\n          })\n          .catch(error => {\n            this.error = error.response.data\n          })\n      }\n    },\n    userMoney () {\n      this.troco = this.userMoney - this.product.price\n    },\n    product () {\n      if (this.product.amount <= 0) {\n        this.estoque = false\n      }\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>\n"],"sourceRoot":"src/view"}]}